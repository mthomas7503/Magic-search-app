{"ast":null,"code":"module.exports = function () {\n  var subscribers = [];\n  var self = {\n    // remove all subscribers\n    clear: function clear(eventName) {\n      subscribers = eventName != null ? subscribers.filter(function (subscriber) {\n        return subscriber.eventName !== eventName;\n      }) : [];\n      return self; // return self to support chaining\n    },\n    // remove a subscriber\n    off: function off(eventName, callback) {\n      var index = subscribers.findIndex(function (subscriber) {\n        return subscriber.eventName === eventName && subscriber.callback === callback;\n      });\n\n      if (index >= 0) {\n        subscribers.splice(index, 1);\n      }\n\n      return self;\n    },\n    // subscribe to an event\n    on: function on(eventName, callback) {\n      subscribers.push({\n        eventName: eventName,\n        callback: callback\n      });\n      return self;\n    },\n    // trigger an event; all subscribers will be called\n    trigger: function trigger(eventName, data) {\n      subscribers.filter(function (subscriber) {\n        return subscriber.eventName === eventName;\n      }).forEach(function (subscriber) {\n        return subscriber.callback(data);\n      });\n      return self;\n    }\n  };\n  return self;\n};","map":null,"metadata":{},"sourceType":"script"}